{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/subject.service\";\nimport * as i2 from \"src/app/services/attendance.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../faculty-menu/faculty-menu.component\";\nfunction ViewAttendanceComponent_option_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const subject_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", subject_r3.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(subject_r3.name);\n  }\n}\nfunction ViewAttendanceComponent_tr_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"titlecase\");\n    i0.ɵɵpipe(6, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\")(18, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ViewAttendanceComponent_tr_46_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const record_r4 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.showStudents(record_r4.students));\n    });\n    i0.ɵɵtext(19, \" Show \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const record_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r5 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind1(5, 7, record_r4.user.firstName), \" \", i0.ɵɵpipeBind1(6, 9, record_r4.user.lastName), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 11, record_r4.subject.name));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 13, record_r4.date));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(record_r4.time);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(record_r4.numberOfStudents);\n  }\n}\nfunction ViewAttendanceComponent_div_47_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"div\", 32);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const student_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", student_r9.name, \" \");\n  }\n}\nfunction ViewAttendanceComponent_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"div\", 26)(3, \"h5\", 27);\n    i0.ɵɵtext(4, \"Student List\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function ViewAttendanceComponent_div_47_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.closeModal());\n    });\n    i0.ɵɵtext(6, \"\\u00D7\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 29)(8, \"div\", 15);\n    i0.ɵɵtemplate(9, ViewAttendanceComponent_div_47_div_9_Template, 3, 1, \"div\", 30);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.selectedStudents);\n  }\n}\nexport class ViewAttendanceComponent {\n  constructor(subjectService, attendanceService) {\n    this.subjectService = subjectService;\n    this.attendanceService = attendanceService;\n    this.subjects = [];\n    this.attendanceRecords = [];\n    this.selectedUser = '';\n    this.selectedDate = '';\n    this.selectedStudents = [];\n    this.isModalOpen = false;\n  }\n  ngOnInit() {\n    this.getSubjects();\n    this.selectedUser = localStorage.getItem('user') || '';\n  }\n  getSubjects() {\n    this.subjectService.allSubjects().subscribe(res => {\n      this.subjects = res;\n    });\n  }\n  changeSubject(event) {\n    this.selectedSubject = event.target.value;\n  }\n  changeDate(event) {\n    this.selectedDate = event.target.value;\n  }\n  showStudents(students) {\n    this.selectedStudents = students;\n    this.isModalOpen = true;\n    console.log(this.selectedStudents);\n  }\n  closeModal() {\n    this.isModalOpen = false;\n  }\n  fetchAttendanceRecords() {\n    this.attendanceService.filteredAttendance(this.selectedUser, this.selectedSubject, this.selectedDate).subscribe(res => {\n      this.attendanceRecords = res;\n      if (this.attendanceRecords.length === 0) {\n        alert(\"No attendance records found for the selected date\");\n      }\n    });\n  }\n  fetchAllAttendanceRecords() {\n    this.attendanceService.allAttendance().subscribe(res => {\n      this.attendanceRecords = res;\n      if (this.attendanceRecords.length === 0) {\n        alert(\"No attendance records found for the selected date\");\n      }\n    });\n  }\n  static {\n    this.ɵfac = function ViewAttendanceComponent_Factory(t) {\n      return new (t || ViewAttendanceComponent)(i0.ɵɵdirectiveInject(i1.SubjectService), i0.ɵɵdirectiveInject(i2.AttendanceService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ViewAttendanceComponent,\n      selectors: [[\"app-view-attendance\"]],\n      decls: 48,\n      vars: 3,\n      consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [1, \"container\"], [1, \"row\", \"mb-3\"], [1, \"col-md-4\"], [\"for\", \"subject\", 1, \"form-label\"], [\"id\", \"subject\", 1, \"form-select\", 3, \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"date\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"date\", 1, \"form-control\", 3, \"change\"], [1, \"col-md-4\", \"text-center\"], [\"for\", \"\"], [1, \"btn\", \"btn-primary\", \"w-100\", 3, \"click\"], [1, \"row\"], [1, \"col\"], [1, \"table\", \"table-bordered\", \"table-striped\"], [1, \"table-dark\"], [\"id\", \"attendanceTableBody\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"modal-overlay\", 4, \"ngIf\"], [3, \"value\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#studentModal\", 1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"modal-overlay\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [1, \"close-btn\", 3, \"click\"], [1, \"modal-body\"], [\"class\", \"col-md-3 mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-3\", \"mb-3\"], [1, \"student-card\", \"p-2\", \"border\", \"rounded\", \"text-center\"]],\n      template: function ViewAttendanceComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"app-faculty-menu\");\n          i0.ɵɵelementStart(1, \"html\", 0)(2, \"head\");\n          i0.ɵɵelement(3, \"meta\", 1)(4, \"meta\", 2);\n          i0.ɵɵelementStart(5, \"title\");\n          i0.ɵɵtext(6, \"View Attendance\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"body\")(8, \"div\", 3)(9, \"div\", 4)(10, \"div\", 5)(11, \"label\", 6);\n          i0.ɵɵtext(12, \"Select Subject\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"select\", 7);\n          i0.ɵɵlistener(\"change\", function ViewAttendanceComponent_Template_select_change_13_listener($event) {\n            return ctx.changeSubject($event);\n          });\n          i0.ɵɵelementStart(14, \"option\", 8);\n          i0.ɵɵtext(15, \"Choose Subject\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(16, ViewAttendanceComponent_option_16_Template, 2, 2, \"option\", 9);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"div\", 5)(18, \"label\", 10);\n          i0.ɵɵtext(19, \"Select Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"input\", 11);\n          i0.ɵɵlistener(\"change\", function ViewAttendanceComponent_Template_input_change_20_listener($event) {\n            return ctx.changeDate($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 12)(22, \"label\", 13);\n          i0.ɵɵtext(23, \"-\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"button\", 14);\n          i0.ɵɵlistener(\"click\", function ViewAttendanceComponent_Template_button_click_24_listener() {\n            return ctx.fetchAttendanceRecords();\n          });\n          i0.ɵɵtext(25, \"Show\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(26, \"div\", 15)(27, \"div\", 16)(28, \"table\", 17)(29, \"thead\", 18)(30, \"tr\")(31, \"th\");\n          i0.ɵɵtext(32, \"#\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"th\");\n          i0.ɵɵtext(34, \"Faculty\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"th\");\n          i0.ɵɵtext(36, \"Subject\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(37, \"th\");\n          i0.ɵɵtext(38, \"Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"th\");\n          i0.ɵɵtext(40, \"Time\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"th\");\n          i0.ɵɵtext(42, \"Number of Students\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(43, \"th\");\n          i0.ɵɵtext(44, \"Show Students\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(45, \"tbody\", 19);\n          i0.ɵɵtemplate(46, ViewAttendanceComponent_tr_46_Template, 20, 15, \"tr\", 20);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵtemplate(47, ViewAttendanceComponent_div_47_Template, 10, 1, \"div\", 21);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"ngForOf\", ctx.subjects);\n          i0.ɵɵadvance(30);\n          i0.ɵɵproperty(\"ngForOf\", ctx.attendanceRecords);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isModalOpen);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i5.FacultyMenuComponent, i3.TitleCasePipe, i3.DatePipe],\n      styles: [\"html[_ngcontent-%COMP%], body[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #ff9ada, #dafac4);\\n  font-family: Arial, sans-serif;\\n}\\n.container[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n  background: #fff;\\n  padding: 20px;\\n  border-radius: 10px;\\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);\\n}\\n.form-label[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n.table[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n}\\n.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  background-color: #343a40 !important;\\n  color: white;\\n  text-align: center;\\n}\\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\nselect[_ngcontent-%COMP%], input[type=\\\"date\\\"][_ngcontent-%COMP%] {\\n  border-radius: 5px;\\n  border: 1px solid #ced4da;\\n  padding: 8px;\\n}\\n\\n\\n.modal-overlay[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: rgba(0, 0, 0, 0.5);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 1050;\\n}\\n\\n.modal-content[_ngcontent-%COMP%] {\\n  background: white;\\n  padding: 20px;\\n  border-radius: 10px;\\n  width: 50%;\\n  max-width: 600px;\\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);\\n}\\n\\n.modal-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  border-bottom: 1px solid #ddd;\\n  padding-bottom: 10px;\\n}\\n\\n.close-btn[_ngcontent-%COMP%] {\\n  background: none;\\n  border: none;\\n  font-size: 1.5rem;\\n  cursor: pointer;\\n}\\n\\n.student-card[_ngcontent-%COMP%] {\\n  background: #f8f9fa;\\n  border: 1px solid #dee2e6;\\n  border-radius: 8px;\\n  padding: 10px;\\n  text-align: center;\\n  font-weight: bold;\\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy92aWV3LWF0dGVuZGFuY2Uvdmlldy1hdHRlbmRhbmNlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxxREFBcUQ7RUFDckQsOEJBQThCO0FBQ2hDO0FBQ0E7RUFDRSxnQkFBZ0I7RUFDaEIsZ0JBQWdCO0VBQ2hCLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsMkNBQTJDO0FBQzdDO0FBQ0E7RUFDRSxpQkFBaUI7QUFDbkI7QUFDQTtFQUNFLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0Usb0NBQW9DO0VBQ3BDLFlBQVk7RUFDWixrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixZQUFZO0FBQ2Q7OztBQUdBO0VBQ0UsZUFBZTtFQUNmLE1BQU07RUFDTixPQUFPO0VBQ1AsV0FBVztFQUNYLFlBQVk7RUFDWiw4QkFBOEI7RUFDOUIsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsYUFBYTtBQUNmOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsVUFBVTtFQUNWLGdCQUFnQjtFQUNoQiwyQ0FBMkM7QUFDN0M7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQiw2QkFBNkI7RUFDN0Isb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQix5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLDBDQUEwQztBQUM1QyIsInNvdXJjZXNDb250ZW50IjpbImh0bWwsIGJvZHkge1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZmY5YWRhLCAjZGFmYWM0KTtcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xufVxuLmNvbnRhaW5lciB7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJveC1zaGFkb3c6IDBweCAwcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG4uZm9ybS1sYWJlbCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuLnRhYmxlIHtcbiAgbWFyZ2luLXRvcDogMjBweDtcbn1cbi50YWJsZSB0aCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzNDNhNDAgIWltcG9ydGFudDtcbiAgY29sb3I6IHdoaXRlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4udGFibGUgdGQge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5zZWxlY3QsIGlucHV0W3R5cGU9XCJkYXRlXCJdIHtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2VkNGRhO1xuICBwYWRkaW5nOiA4cHg7XG59XG5cblxuLm1vZGFsLW92ZXJsYXkge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgei1pbmRleDogMTA1MDtcbn1cblxuLm1vZGFsLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgcGFkZGluZzogMjBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgd2lkdGg6IDUwJTtcbiAgbWF4LXdpZHRoOiA2MDBweDtcbiAgYm94LXNoYWRvdzogMHB4IDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbn1cblxuLm1vZGFsLWhlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xufVxuXG4uY2xvc2UtYnRuIHtcbiAgYmFja2dyb3VuZDogbm9uZTtcbiAgYm9yZGVyOiBub25lO1xuICBmb250LXNpemU6IDEuNXJlbTtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uc3R1ZGVudC1jYXJkIHtcbiAgYmFja2dyb3VuZDogI2Y4ZjlmYTtcbiAgYm9yZGVyOiAxcHggc29saWQgI2RlZTJlNjtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBwYWRkaW5nOiAxMHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBib3gtc2hhZG93OiAycHggMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","subject_r3","id","ɵɵadvance","ɵɵtextInterpolate","name","ɵɵlistener","ViewAttendanceComponent_tr_46_Template_button_click_18_listener","restoredCtx","ɵɵrestoreView","_r7","record_r4","$implicit","ctx_r6","ɵɵnextContext","ɵɵresetView","showStudents","students","i_r5","ɵɵtextInterpolate2","ɵɵpipeBind1","user","firstName","lastName","subject","date","time","numberOfStudents","ɵɵtextInterpolate1","student_r9","ViewAttendanceComponent_div_47_Template_button_click_5_listener","_r11","ctx_r10","closeModal","ɵɵtemplate","ViewAttendanceComponent_div_47_div_9_Template","ctx_r2","selectedStudents","ViewAttendanceComponent","constructor","subjectService","attendanceService","subjects","attendanceRecords","selectedUser","selectedDate","isModalOpen","ngOnInit","getSubjects","localStorage","getItem","allSubjects","subscribe","res","changeSubject","event","selectedSubject","target","value","changeDate","console","log","fetchAttendanceRecords","filteredAttendance","length","alert","fetchAllAttendanceRecords","allAttendance","ɵɵdirectiveInject","i1","SubjectService","i2","AttendanceService","selectors","decls","vars","consts","template","ViewAttendanceComponent_Template","rf","ctx","ɵɵelement","ViewAttendanceComponent_Template_select_change_13_listener","$event","ViewAttendanceComponent_option_16_Template","ViewAttendanceComponent_Template_input_change_20_listener","ViewAttendanceComponent_Template_button_click_24_listener","ViewAttendanceComponent_tr_46_Template","ViewAttendanceComponent_div_47_Template"],"sources":["C:\\WorkSpace\\Angular 635\\SAMSTRACK_NG-main\\src\\app\\components\\view-attendance\\view-attendance.component.ts","C:\\WorkSpace\\Angular 635\\SAMSTRACK_NG-main\\src\\app\\components\\view-attendance\\view-attendance.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AttendanceService } from 'src/app/services/attendance.service';\nimport { SubjectService } from 'src/app/services/subject.service';\n\n@Component({\n  selector: 'app-view-attendance',\n  templateUrl: './view-attendance.component.html',\n  styleUrls: ['./view-attendance.component.css']\n})\nexport class ViewAttendanceComponent implements OnInit {\n  constructor(\n    private subjectService: SubjectService,\n    private attendanceService: AttendanceService\n  ) { }\n\n  subjects: any[] = [];\n  attendanceRecords: any[] = [];\n  selectedUser: string = '';\n  selectedSubject: any;\n  selectedDate: string = '';\n\n  ngOnInit(): void {\n    this.getSubjects();\n    this.selectedUser=localStorage.getItem('user') || '';\n\n  }\n\n  getSubjects() {\n    this.subjectService.allSubjects().subscribe((res) => {\n      this.subjects = res;\n    });\n  }\n\n  changeSubject(event: any) {\n    this.selectedSubject = event.target.value;\n  }\n\n  changeDate(event: any) {\n    this.selectedDate = event.target.value;\n  }\n\n  selectedStudents: any[] = [];\n  isModalOpen: boolean = false;\n  showStudents(students: any[]) {\n    this.selectedStudents = students;\n    this.isModalOpen = true;\n    console.log(this.selectedStudents);\n\n  }\n\n  closeModal() {\n    this.isModalOpen = false;\n  }\n\n  fetchAttendanceRecords() {\n    this.attendanceService.filteredAttendance(this.selectedUser, this.selectedSubject, this.selectedDate).subscribe((res) => {\n      this.attendanceRecords = res;\n      if (this.attendanceRecords.length === 0) {\n        alert(\"No attendance records found for the selected date\");\n      }\n    })\n  }\n\n  fetchAllAttendanceRecords() {\n    this.attendanceService.allAttendance().subscribe((res) => {\n      this.attendanceRecords = res;\n      if (this.attendanceRecords.length === 0) {\n        alert(\"No attendance records found for the selected date\");\n      }\n    })\n  }\n}\n","<app-faculty-menu></app-faculty-menu>\n\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>View Attendance</title>\n\n</head>\n\n<body>\n  <div class=\"container\">\n    <!-- Filter Row -->\n    <div class=\"row mb-3\">\n\n      <div class=\"col-md-4\">\n        <label for=\"subject\" class=\"form-label\">Select Subject</label>\n        <select id=\"subject\" class=\"form-select\" (change)=\"changeSubject($event)\">\n          <option value=\"\">Choose Subject</option>\n          <!-- Populate dynamically -->\n          <option *ngFor=\"let subject of subjects\" [value]=\"subject.id\">{{ subject.name }}</option>\n        </select>\n      </div>\n      <div class=\"col-md-4\">\n        <label for=\"date\" class=\"form-label\">Select Date</label>\n        <input type=\"date\" id=\"date\" class=\"form-control\" (change)=\"changeDate($event)\">\n      </div>\n\n      <div class=\"col-md-4 text-center\">\n        <label for=\"\">-</label>\n        <button class=\"btn btn-primary w-100\" (click)=\"fetchAttendanceRecords()\">Show</button>\n      </div>\n    </div>\n\n    <!-- Attendance Table -->\n    <div class=\"row\">\n      <div class=\"col\">\n        <table class=\"table table-bordered table-striped\">\n          <thead class=\"table-dark\">\n            <tr>\n              <th>#</th>\n              <th>Faculty</th>\n              <th>Subject</th>\n              <th>Date</th>\n              <th>Time</th>\n              <th>Number of Students</th>\n              <th>Show Students</th>\n            </tr>\n          </thead>\n          <tbody id=\"attendanceTableBody\">\n            <!-- Data will be inserted dynamically -->\n            <tr *ngFor=\"let record of attendanceRecords; let i = index\">\n                <td>{{ i + 1 }}</td>\n              <td>{{ record.user.firstName | titlecase }} {{ record.user.lastName | titlecase }}</td>\n              <td>{{ record.subject.name | titlecase }}</td>\n              <td>{{ record.date | date }}</td>\n              <td>{{ record.time }}</td>\n              <td>{{ record.numberOfStudents }}</td>\n              <td>\n                <button class=\"btn btn-info\" (click)=\"showStudents(record.students)\" data-bs-toggle=\"modal\" data-bs-target=\"#studentModal\">\n                  Show\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n\n\n\n\n  <!-- Modal (Visible only when isModalOpen is true) -->\n<div *ngIf=\"isModalOpen\" class=\"modal-overlay\">\n  <div class=\"modal-content\">\n    <div class=\"modal-header\">\n      <h5 class=\"modal-title\">Student List</h5>\n      <button class=\"close-btn\" (click)=\"closeModal()\">×</button>\n    </div>\n    <div class=\"modal-body\">\n      <div class=\"row\">\n        <div class=\"col-md-3 mb-3\" *ngFor=\"let student of selectedStudents\">\n          <div class=\"student-card p-2 border rounded text-center\">\n            {{ student.name }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n</body>\n\n</html>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}